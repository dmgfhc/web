# 复习
## 定时器（requestAnimationFrame）

做动画需要每隔一定时间，刷新一次画面。然后，画面快速闪过，在人眼中形成动画。

setTimeout和setInterval定时器。

前者延时一定时间，执行某个函数。
后者间隔一段时间，重复执行某个函数。

这两个看上去像是在定时，但是实际上，它们的定时都是不准确的。

在做轮播图这类的应用时，15秒换一张图，则是每15000毫秒换一张图，这种时候，1~10个毫秒的延迟，用户根本不可能感受得到。但是，高性能的动画开发是不能这样做的。

动画开发时，每两帧的间隔时间最好是16.67毫秒。这个数相当小的。所以说动画对定时器的精度要求很高。

无论是哪个定时器，它都不可能达到这么高的精度。那么怎么解决这个问题？

既然不能够准确的定时，那么我们只能获取两帧之间间隔时间。然后给定速度，来决定动画如何进行。

有些电脑可能性能非常的差，我哪怕写了setTimeout(callback,16),它实际上运行时，也延迟了30毫秒，这样也是有可能的。

所以我们必须手动获取DT（间隔时间）来保证动画的时间是没有误差的。

# 如何去阅读FlappyBird的程序

1. 大体框架
	1. 图片的加载
		1. 异步的问题，先for循环完成，再一个一个的加载完成
	2. 主循环
		1. 定时器不稳定造成的各种问题，以及解决方案

2. 显示对象
	1. 小鸟
		1. 帧动画和下坠动画
		2. 点击屏幕上飞
	2. 管子
		1. 根据上边管子露出来的高度来决定两根管子的位置
		2. 管子从左边移出屏幕后，如何回到右边（回到右边后，还要记得重新随机出一个上管子的高度）
	3. 天空
	4. 大地


# 下午的内容（杂项）

## 刮刮卡

API：

1. ctx.globalCompositeOperation = 'destination-out';
	1. 源图像绘制时擦除目标图像
2. ctx.lineCap="round"; 
	1. 设置圆形线帽。（线帽样式就是线开始和结束的两个端点的样式）

关于触摸事件：
hammer.js ：一个专门处理触摸事件的库。


## 图像像素数据

API:

1. getImageData(x,y,w,h)
	1. 返回的对象：
		1. width
		2. height
		3. data：图片的像素数据