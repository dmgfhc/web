<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script src="loadimgs.js"></script>

<script>
    // 存储了图片路径的对象
    var imgUrls = {
        bird: "../res/birds.png",
        land: "../res/land.png",
        pipe1: "../res/pipe1.png",
        pipe2: "../res/pipe2.png",
        sky: "../res/sky.png",
    };

    loadImgs(imgUrls, function main(imgElems) {

        var lastTime = Date.now();

        function mainLoop() {
            // 1. 求本帧和上一帧之间的间隔时间
            var nowTime = Date.now();
            var dt = nowTime - lastTime;
            lastTime = nowTime;

            console.log(dt);

            // 定时绘制下一帧
            requestAnimationFrame(function () {
                // 最后绘制下一帧，由浏览器来定时
                mainLoop();
            })
        }


        // 第一次调用主循环函数
        mainLoop();
    })


</script>
</body>
</html>